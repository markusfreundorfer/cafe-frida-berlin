/*! cafe-frida-berlin 2016-09-11 */
var responsivelyLazy=function(){var a=!1,b=null,c=null,d="undefined"!=typeof IntersectionObserver,e=function(a){if(null===b)return!1;var d=a.getBoundingClientRect();a=d.top;var e=d.left,f=d.width,d=d.height;return a<c&&0<a+d&&e<b&&0<e+f},f=function(b,c){var d=c.getAttribute("data-srcset");if(null!==d){for(var d=d.split(","),e=[],f=d.length,g=0;g<f;g++){var h=d[g].trim(),i=h.lastIndexOf(" ");if(-1===i)var j=h,h=999998;else j=h.substr(0,i),h=parseInt(h.substr(i+1,h.length-i-2),10);i=!1,-1!==j.indexOf(".webp",j.length-5)?a&&(i=!0):i=!0,i&&e.push([j,h])}e.sort(function(a,b){if(a[1]<b[1])return-1;if(a[1]>b[1])return 1;if(a[1]===b[1]){if(-1!==b[0].indexOf(".webp",b[0].length-5))return 1;if(-1!==a[0].indexOf(".webp",a[0].length-5))return-1}return 0}),d=e}else d=[];for(j=b.offsetWidth*window.devicePixelRatio,e=null,f=d.length,g=0;g<f;g++)if(h=d[g],h[1]>=j){e=h;break}if(null===e&&(e=[c.getAttribute("src"),999999]),"undefined"==typeof b.lastSetOption&&(b.lastSetOption=["",0]),b.lastSetOption[1]<e[1]){var k=0===b.lastSetOption[1],l=e[0],d=new Image;d.addEventListener("load",function(){if(c.setAttribute("srcset",l),k){var a=b.getAttribute("data-onlazyload");null!==a&&new Function(a).bind(b)()}},!1),d.addEventListener("error",function(){b.lastSetOption=["",0]},!1),d.src=l,b.lastSetOption=e}},g=function(){var a=function(a,b){for(var c=a.length,d=0;d<c;d++){var g=a[d],h=b?g:g.parentNode;e(h)&&f(h,g)}};a(document.querySelectorAll(".responsively-lazy > img"),!1),a(document.querySelectorAll("img.responsively-lazy"),!0)};if("srcset"in document.createElement("img")&&"undefined"!=typeof window.devicePixelRatio&&"undefined"!=typeof window.addEventListener&&"undefined"!=typeof document.querySelectorAll){var b=window.innerWidth,c=window.innerHeight,h=new Image;h.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=",h.onload=h.onerror=function(){if(a=2===h.width,d){var e=function(){for(var a=document.querySelectorAll(".responsively-lazy"),b=a.length,c=0;c<b;c++){var d=a[c];"undefined"==typeof d.responsivelyLazyObserverAttached&&(d.responsivelyLazyObserverAttached=!0,i.observe(d))}},i=new IntersectionObserver(function(a){for(var b in a){var c=a[b];if(0<c.intersectionRatio)if(c=c.target,"img"!==c.tagName.toLowerCase()){var d=c.querySelector("img");null!==d&&f(c,d)}else f(c,c)}});g()}else{var j=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)},k=!0,l=function(){k&&(k=!1,g()),j.call(null,l)},m=function(){k=!0},n=function(){for(var a=document.querySelectorAll(".responsively-lazy"),b=a.length,c=0;c<b;c++)for(var d=a[c].parentNode;d&&"html"!==d.tagName.toLowerCase();)"undefined"==typeof d.responsivelyLazyScrollAttached&&(d.responsivelyLazyScrollAttached=!0,d.addEventListener("scroll",m)),d=d.parentNode};l()}var o=function(){if(d)var a=null;window.addEventListener("resize",function(){b=window.innerWidth,c=window.innerHeight,d?(window.clearTimeout(a),a=window.setTimeout(function(){g()},300)):k=!0}),d?(window.addEventListener("load",g),e()):(window.addEventListener("scroll",m),window.addEventListener("load",m),n()),"undefined"!=typeof MutationObserver&&new MutationObserver(function(){d?(e(),g()):(n(),k=!0)}).observe(document.querySelector("body"),{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()}}return{run:g,isVisible:e}}();!function(){var a={default:"home",menu:document.getElementById("nav"),headerEle:document.getElementsByTagName("header")[0],enableScrollEventHeader:!0,init:function(){window.addEventListener("hashchange",function(){a.routeChange()}),window.addEventListener("scroll",function(){a.enableScrollEventHeader&&a.header(!1)}),window.location.hash?a.routeChange():window.location.hash=a.default},routeChange:function(){a.routeID=location.hash.slice(1),a.route=a.routes[a.routeID],a.routeElem=document.getElementById(a.routeID),a.route.rendered(),a.menu.checked=a.menu.checked?!a.menu.checked:a.menu.checked,"home"!==a.routeID?(a.header(!0),a.enableScrollEventHeader=!1):(a.enableScrollEventHeader=!0,a.headerEle.setAttribute("class",""))},routes:{cafe:{rendered:function(){console.log('this view is "cafe"')}},menu:{rendered:function(){console.log('this view is "menu"')}},impressum:{rendered:function(){console.log('this view is "impressum"')}},"our-story":{rendered:function(){console.log('this view is "story"')}},home:{rendered:function(){console.log('this view is "home"')}}},header:function(b){window.scrollY>50||b?a.headerEle.setAttribute("class","show"):b||a.headerEle.setAttribute("class","")}};window.app=a}(),app.init();