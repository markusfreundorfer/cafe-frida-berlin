/*! cafe-frida-berlin 2016-08-28 */
appear=function(){"use strict";function a(){var a=window.scrollY||window.pageYOffset;null!=c&&(e.velocity=a-c,e.delta=e.velocity>=0?e.velocity:-1*e.velocity),c=a,d&&clearTimeout(d),d=setTimeout(function(){c=null},30)}function b(a,b){var c=a.getBoundingClientRect();return c.top+c.height>=0&&c.left+c.width>=0&&c.bottom-c.height<=(window.innerHeight||document.documentElement.clientHeight)+b&&c.right-c.width<=(window.innerWidth||document.documentElement.clientWidth)+b}var c=null,d=0,e={};return addEventListener("scroll",a,!1),function(a){return function(a){function c(a,b){return function(){var c=this,d=arguments;clearTimeout(l),l=setTimeout(function(){a.apply(c,d)},b)}}function d(){e.delta<t.delta.speed&&(m||(m=!0,i(),setTimeout(function(){m=!1},t.delta.timeout))),c(function(){i()},t.debounce)()}function f(){i(),addEventListener("scroll",d,!1),addEventListener("resize",d,!1)}function g(){p=[],l&&clearTimeout(l),h()}function h(){removeEventListener("scroll",d,!1),removeEventListener("resize",d,!1)}function i(){n||(p.forEach(function(a,c){a&&b(a,t.bounds)?q[c]&&(q[c]=!1,r++,t.appear&&t.appear(a),t.disappear||t.reappear||(p[c]=null)):(q[c]===!1&&(t.disappear&&t.disappear(a),s++,t.reappear||(p[c]=null)),q[c]=!0)}),t.reappear||t.appear&&(!t.appear||r!==k)||t.disappear&&(!t.disappear||s!==k)||(n=!0,h(),t.done&&t.done()))}function j(){if(!o){o=!0,t.init&&t.init();var a;if(a="function"==typeof t.elements?t.elements():t.elements){k=a.length;for(var b=0;b<k;b+=1)p.push(a[b]),q.push(!0);f()}}}var k,l,m,n,o=!1,p=[],q=[],r=0,s=0,t={};return function(a){a=a||{},t={init:a.init,elements:a.elements,appear:a.appear,disappear:a.disappear,done:a.done,reappear:a.reappear,bounds:a.bounds||0,debounce:a.debounce||50,delta:{speed:a.deltaSpeed||50,timeout:a.deltaTimeout||500}},addEventListener("DOMContentLoaded",j,!1);var b=!1;Function("/*@cc_on return document.documentMode===10@*/")()&&(b=!0);var c="complete"===document.readyState||"loaded"===document.readyState;return b?c&&j():(c||"interactive"===document.readyState)&&j(),{trigger:function(){i()},pause:function(){h()},resume:function(){f()},destroy:function(){g()}}}}()(a)}}(),appear(function(){"use strict";function a(a){a.classList?a.classList.add("appeared"):a.className+=" appeared"}function b(b){var d=b.getAttribute("src")||!1;if(b.addEventListener("error",function a(c){console.log("error loading image",c),d&&b.setAttribute("src",d),b.removeEventListener("error",a)}),console.log(c(b,"article").clientHeight),c(b,"article").clientHeight>0){var e=b.getAttribute("data-src");if(e)return b.setAttribute("src",e),void a(b);if(e=b.getAttribute("data-bkg"))return b.style.backgroundImage='url("'+e+'")',void a(b)}}function c(a,b){for(;(a=a.parentElement)&&!(a.matches||a.matchesSelector).call(a,b););return a}function d(a){if(a.hasChildNodes()){var c=a.querySelectorAll("[data-src], [data-bkg]"),d=c.length;if(0===d)b(a);else for(var e=0;e<d;e++)b(c[e])}else b(a)}function e(a,b){setTimeout(function(){d(a)},b)}var f=[];return{init:function(){for(var a=document.getElementsByClassName("appear"),b=a.length,c=0;c<b;c+=1){var d=a[c].getAttribute("data-delay");d?e(a[c],d):f.push(a[c])}},elements:f,appear:d,bounds:200}}()),function(){var a={default:"home",menu:document.getElementById("nav"),init:function(){window.addEventListener("hashchange",function(){a.routeChange()}),window.location.hash?a.routeChange():window.location.hash=a.default},routeChange:function(){a.routeID=location.hash.slice(1),a.route=a.routes[a.routeID],a.routeElem=document.getElementById(a.routeID),a.route.rendered(),a.menu.checked=a.menu.checked?!a.menu.checked:a.menu.checked},routes:{about:{rendered:function(){console.log('this view is "about"')}},menu:{rendered:function(){console.log('this view is "menu"')}},"our-story":{rendered:function(){console.log('this view is "story"')}},home:{rendered:function(){console.log('this view is "home"')}}}};window.app=a}(),app.init();